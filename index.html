<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì´ì¤€ì˜ íŒ¬ë¯¸íŒ…</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<style>
/* (ìƒëµ: ì›ë˜ ìŠ¤íƒ€ì¼ ê·¸ëŒ€ë¡œ ìœ ì§€ + VIP/R/S ì¶”ê°€ ìŠ¤íƒ€ì¼) */
</style>
</head>
<body>
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì´ì¤€ì˜ íŒ¬ë¯¸íŒ…</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<style>
html,body{margin:0;padding:0;width:100%;height:100%;background:#000;font-family:'Segoe UI','Apple SD Gothic Neo',sans-serif;}
.app{width:100vw;height:100vh;background:#fff;overflow:hidden;position:relative;display:flex;flex-direction:column;}
.header{background:#e6002d;color:#fff;padding:14px;text-align:center;font-weight:700;font-size:17px;}
.clock-box{padding:14px;text-align:center;border-bottom:1px solid #ddd;}
.clock{font-size:26px;font-weight:700;}
.status{font-size:13px;color:#666;margin-top:4px;}
.notice{padding:16px;font-size:13px;line-height:1.6;color:#444;}
.notice h3{margin-top:0;font-size:15px;}
.notice ul{padding-left:18px;}
.notice li{margin-bottom:6px;}
.reserve-btn{width:100%;background:#e6002d;color:#fff;border:none;padding:14px;font-size:16px;border-radius:8px;font-weight:700;cursor:pointer;display:none;}
.waiting,.captcha,.seat-screen,.payment,.result{display:none;padding:16px;flex:1;overflow-y:auto;box-sizing:border-box;}
.wait-title{font-weight:700;margin-bottom:8px;}
.wait-num{font-size:32px;font-weight:800;}
.wait-sub{font-size:13px;color:#555;margin-top:4px;}
.bar-wrap{height:10px;background:#eee;border-radius:5px;overflow:hidden;margin:10px 0;}
.bar{height:100%;width:0%;background:#e6002d;transition:width .15s linear;}
.ready-msg{margin-top:10px;color:#e6002d;font-weight:700;display:none;}
.captcha-box{margin-top:40px;text-align:center;}
.captcha-code{font-size:26px;font-weight:800;letter-spacing:6px;background:#eee;padding:10px 14px;border-radius:6px;display:inline-block;}
.captcha input{margin-top:16px;padding:10px;width:140px;font-size:16px;text-align:center;letter-spacing:4px;}
.captcha button{margin-top:12px;width:100%;padding:12px;background:#e6002d;color:#fff;border:none;border-radius:6px;font-weight:700;}
.seat-screen h3{margin-top:0;}
.stage{text-align:center;font-size:12px;margin-bottom:8px;color:#555;}
.seat-map{display:grid;grid-template-columns:repeat(20,1fr);gap:3px;}
.seat{width:100%;padding-top:100%;position:relative;border-radius:4px;cursor:pointer;}
.seat.vip{background:#d32f2f;}
.seat.r{background:#1976d2;}
.seat.s{background:#4caf50;}
.seat.taken{background:#ccc;cursor:not-allowed;}
.seat.selected{outline:3px solid #ff9800;}
.seat::after{content:attr(data-id);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:7px;color:#fff;}
.payment h3{margin-top:0;}
.pay-btn{width:100%;padding:12px;margin-top:10px;border:none;border-radius:6px;font-weight:700;cursor:pointer;}
.kakao{background:#fee500;}
.toss{background:#1e88e5;color:#fff;}
.naver{background:#03c75a;color:#fff;}
.bank{background:#555;color:#fff;}
#payment-timer{position:fixed;top:10px;right:10px;font-size:18px;font-weight:bold;background:#000000aa;color:#fff;padding:6px 10px;border-radius:6px;display:none;}
</style>
</head>
<body>
<div class="app">
<div class="header">ì´ì¤€ì˜ íŒ¬ë¯¸íŒ…</div>
<div class="clock-box" id="clockBox">
<div class="clock" id="clock">06:59:57</div>
<div class="status" id="status">ì˜ˆë§¤ ì˜¤í”ˆ ëŒ€ê¸° ì¤‘</div>
</div>
<div class="notice" id="noticeArea">
<h3>ğŸŸï¸ í‹°ì¼“ ì˜ˆë§¤ ì•ˆë‚´</h3>
<ul>
<li>ì˜ˆë§¤ëŠ” <b>1ì¸ ìµœëŒ€ 2ë§¤</b>ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
<li>ë§¤í¬ë¡œ ì‚¬ìš© ì‹œ ìë™ ì·¨ì†Œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>ì˜ˆë§¤ ì‹œì‘ê³¼ ë™ì‹œì— ëŒ€ê¸°ì—´ì´ ìƒì„±ë©ë‹ˆë‹¤.</li>
<li>ê²°ì œ ë‹¨ê³„ì—ì„œ <b>ì‹œê°„ ì´ˆê³¼ ì‹œ ìë™ ì·¨ì†Œ</b>ë©ë‹ˆë‹¤.</li>
<li>ì¢Œì„ ì„ íƒ í›„ ê²°ì œ ì™„ë£Œ ì „ê¹Œì§€ëŠ” ì˜ˆë§¤ê°€ í™•ì •ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
<li>ì–‘ì˜ˆì„œ ì œì‘ã…‹ã…‹.</li>
</ul>
</div>
<div class="main" id="mainArea" style="padding:16px;"><button class="reserve-btn" id="reserveBtn">ì˜ˆë§¤í•˜ê¸°</button></div>
<div class="waiting" id="waitingArea"><div class="wait-title">ëŒ€ê¸°ì—´</div><div>ë‚´ ìˆœë²ˆ</div><div class="wait-num" id="myRank">-</div><div class="bar-wrap"><div class="bar" id="waitBar"></div></div><div class="wait-sub" id="behindNum">ë’¤ì— ëŒ€ê¸°ì: - ëª…</div><div class="wait-sub" id="clickSpeedText"></div><div class="ready-msg" id="readyMsg">ğŸ”¥ ê³§ ì…ì¥í•©ë‹ˆë‹¤! ì¤€ë¹„í•˜ì„¸ìš”!</div></div>
<div class="captcha" id="captchaArea"><div class="captcha-box"><div>ë³´ì•ˆë¬¸ìë¥¼ ì…ë ¥í•˜ì„¸ìš”</div><div class="captcha-code" id="captchaCode">ABCDE</div><input type="text" id="captchaInput" maxlength="5"><button id="captchaBtn">í™•ì¸</button><div id="captchaMsg" style="color:red;font-size:13px;margin-top:8px;"></div></div></div>
<div class="seat-screen" id="seatArea"><h3>ì¢Œì„ ì„ íƒ (VIP 120,000 / R 100,000 / S 80,000)</h3><div class="stage">ë¬´ëŒ€</div><div class="seat-map" id="seatMap"></div><div id="seatPrice" style="margin-top:10px;font-weight:700;font-size:14px;color:#000;"></div><button class="reserve-btn" id="toPayBtn" style="margin-top:10px;display:none;">ê²°ì œí•˜ê¸°</button></div>
<div class="payment" id="paymentArea"><h3>ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ</h3><button class="pay-btn kakao" data-method="ì¹´ì¹´ì˜¤í˜ì´">ì¹´ì¹´ì˜¤í˜ì´</button><button class="pay-btn toss" data-method="í† ìŠ¤">í† ìŠ¤</button><button class="pay-btn naver" data-method="ë„¤ì´ë²„í˜ì´">ë„¤ì´ë²„í˜ì´</button><button class="pay-btn bank" data-method="ë¬´í†µì¥ì…ê¸ˆ">ë¬´í†µì¥ì…ê¸ˆ</button></div>
<div class="result" id="resultArea"><h3 id="resultTitle"></h3><p id="resultMsg"></p><button class="reserve-btn" id="restartBtn" style="display:block;margin-top:20px;">ë‹¤ì‹œí•˜ê¸°</button></div>
</div>
<div id="payment-timer">ë‚¨ì€ ì‹œê°„ <span id="timer-value">04:30</span></div>
<script>
let h=6,m=59,s=57;const clockEl=document.getElementById("clock");const statusEl=document.getElementById("status");const reserveBtn=document.getElementById("reserveBtn");const noticeArea=document.getElementById("noticeArea");function pad(n){return n<10?"0"+n:n;}let openMoment=null;setInterval(()=>{s++;if(s>=60){s=0;m++;}if(m>=60){m=0;h++;}clockEl.textContent=`${pad(h)}:${pad(m)}:${pad(s)}`;if(h===7&&m===0&&s===0){statusEl.textContent="ì˜ˆë§¤ ì‹œì‘!";reserveBtn.style.display="block";noticeArea.style.display="none";openMoment=Date.now();}},1000);
function show(area){[mainArea,waitingArea,captchaArea,seatArea,paymentArea,resultArea].forEach(a=>a.style.display="none");area.style.display="block";}
reserveBtn.onclick=()=>{let clickDelay=(Date.now()-openMoment)/1000;show(waitingArea);let rank=clickDelay<0.1?50:clickDelay<0.2?300:clickDelay<0.3?900:3000;let behind=rank+2000;const total=rank;myRank.textContent=rank;behindNum.textContent=`ë’¤ì— ëŒ€ê¸°ì: ${behind}`;clickSpeedText.textContent=`ì˜ˆë§¤ ${clickDelay.toFixed(2)}ì´ˆ í›„ í´ë¦­`;const interval=setInterval(()=>{if(rank<=0){clearInterval(interval);startCaptcha();return;}let drop=rank>2000?200:rank>500?80:rank>100?25:rank>20?6:1;rank-=drop;if(rank<0)rank=0;behind-=Math.floor(Math.random()*120);if(behind<0)behind=0;myRank.textContent=rank;behindNum.textContent=`ë’¤ì— ëŒ€ê¸°ì: ${behind}`;waitBar.style.width=((total-rank)/total*100)+"%";if(rank<=10)readyMsg.style.display="block";},200);} 
function startCaptcha(){captchaInput.value="";captchaMsg.textContent="";captchaCode.textContent=randomCaptcha();show(captchaArea);}function randomCaptcha(){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let s="";for(let i=0;i<5;i++)s+=c[Math.floor(Math.random()*c.length)];return s;}captchaBtn.onclick=()=>{if(captchaInput.value.toUpperCase()!==captchaCode.textContent){captchaMsg.textContent="ë³´ì•ˆë¬¸ìê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";return;}startSeat();};
const seatMap=document.getElementById("seatMap");const prices={vip:120000,r:100000,s:80000};let selected=[];let seatTimer;function startSeat(){show(seatArea);selected=[];seatMap.innerHTML="";const rows=15,cols=20;for(let r=0;r<rows;r++){for(let c=0;c<cols;c++){let div=document.createElement("div");let type=r<3?"vip":r<7?"r":"s";div.className=`seat ${type}`;div.dataset.type=type;div.dataset.id=`${String.fromCharCode(65+r)}-${c+1}`;seatMap.appendChild(div);}}autoDecay();updatePrice();}
function autoDecay(){const interval=setInterval(()=>{const seats=[...document.querySelectorAll('.seat:not(.taken):not(.selected)')];if(seats.length===0){clearInterval(interval);return;}seats.sort((a,b)=>a.dataset.id.localeCompare(b.dataset.id));let kill=Math.min(5,seats.length);for(let i=0;i<kill;i++)seats[i].classList.add('taken');},300);}seatMap.onclick=e=>{let t=e.target;if(!t.classList.contains('seat')||t.classList.contains('taken'))return;if(t.classList.contains('selected')){t.classList.remove('selected');selected=selected.filter(x=>x!==t);}else{if(selected.length>=2)return;selected.push(t);t.classList.add('selected');}updatePrice();};function updatePrice(){if(selected.length===0){toPayBtn.style.display="none";seatPrice.textContent="";return;}toPayBtn.style.display="block";let sum=selected.reduce((a,b)=>a+prices[b.dataset.type],0);seatPrice.textContent=`ì„ íƒì¢Œì„: ${selected.map(x=>x.dataset.id).join(', ')} / ì´ ${sum.toLocaleString()}ì›`;}toPayBtn.onclick=startPayment;
const paymentTimer=document.getElementById('payment-timer');const timerValue=document.getElementById('timer-value');let tMin=4,tSec=30,tInt;function startPayment(){show(paymentArea);paymentTimer.style.display='block';tMin=4;tSec=30;timerValue.textContent='04:30';if(tInt)clearInterval(tInt);tInt=setInterval(()=>{tSec--;if(tSec<0){tSec=59;tMin--;}if(tMin<0){clearInterval(tInt);timeoutPayment();return;}timerValue.textContent=`${String(tMin).padStart(2,'0')}:${String(tSec).padStart(2,'0')}`;},1000);}function timeoutPayment(){showResult(false,'ì‹œê°„ì´ˆê³¼');selected.forEach(s=>s.classList.add('taken'));selected=[];paymentTimer.style.display='none';}
document.querySelectorAll('.pay-btn').forEach(btn=>btn.onclick=()=>{let fail=Math.random()<0.08;if(fail){alert('ê²°ì œ ì‹¤íŒ¨! ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”');return;}finishPayment(btn.dataset.method);});function finishPayment(method){paymentTimer.style.display='none';let sum=selected.reduce((a,b)=>a+prices[b.dataset.type],0);showResult(true,method,sum);}const resultTitle=document.getElementById('resultTitle');const resultMsg=document.getElementById('resultMsg');function showResult(success,method,sum){show(resultArea);if(!success){resultTitle.textContent='âŒ ì˜ˆë§¤ ì‹¤íŒ¨';resultMsg.textContent='ì‹œê°„ ì´ˆê³¼! ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”';return;}resultTitle.textContent='ì˜ˆë§¤ ì™„ë£Œ!';resultMsg.textContent=`ì¢Œì„: ${selected.map(x=>x.dataset.id).join(', ')} / ì´ ${sum.toLocaleString()}ì› / ê²°ì œ: ${method}`;}
restartBtn.onclick=()=>location.reload();
</script>
</body>
</html>
</body>
</html>
